.card {
  width: 100%;
  aspect-ratio: 150 / 210; 
  perspective: 1000px;
  cursor: pointer;
}

.card .inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
}

.card img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  backface-visibility: hidden;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.card .front {
  transform: rotateY(180deg);
}

.card .inner.flipped {
  animation: flipBounce 0.6s ease forwards;
}
@keyframes flipBounce {
  0% {
    transform: rotateY(0deg) translateY(0);
  }
  30% {
    transform: rotateY(90deg) translateY(-10px);
  }
  60% {
    transform: rotateY(180deg) translateY(0);
  }
  80% {
    transform: rotateY(175deg) translateY(-4px);
  }
  100% {
    transform: rotateY(180deg) translateY(0);
  }
}

.card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), transparent);
  pointer-events: none;
}

.card {
  width: 100%;             
  aspect-ratio: 150 / 210;   
  perspective: 1000px;
  cursor: pointer;
}

.card .inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
}

.card img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  backface-visibility: hidden;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.card .front { transform: rotateY(180deg); }

.card .inner.flipped { animation: flipBounce 0.6s ease forwards; }
@keyframes flipBounce {
  0% { transform: rotateY(0deg) translateY(0); }
  30%{ transform: rotateY(90deg) translateY(-10px); }
  60%{ transform: rotateY(180deg) translateY(0); }
  80%{ transform: rotateY(175deg) translateY(-4px); }
 100%{ transform: rotateY(180deg) translateY(0); }
}

.card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
  pointer-events: none;
}

.victory-mode .card {
  animation: dance 1.2s ease-in-out infinite alternate;
}

@keyframes dance {
  0%   { transform: rotateZ(0deg) translateY(0) scale(1); }
  25%  { transform: rotateZ(-3deg) translateY(-6px) scale(1.03); }
  50%  { transform: rotateZ(3deg) translateY(3px) scale(1.02); }
  75%  { transform: rotateZ(-2deg) translateY(-4px) scale(1.04); }
  100% { transform: rotateZ(2deg) translateY(0) scale(1); }
}

.victory-mode .card .inner {
  will-change: transform;
}
